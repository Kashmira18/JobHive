{% extends "portal/company/company_base_dashboard.html" %}

{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- <link rel="stylesheet" href="style.css"> -->
    
    <style>
/* _____________________________________________________ */
:root {
    --primary-green: #00966b;
    --light-green: #e6f4f0;
}

/* Table Spacing (Khula Look) */
.table td, .table th {
    padding: 1.5rem 1rem !important; /* Large vertical padding */
    border-bottom: 1px solid #f0f0f0;
}

.table-success-custom {
    background-color: var(--primary-green) !important;
}

.custom-btn-green {
    background-color: var(--primary-green);
    border: none;
    padding: 10px 24px;
    border-radius: 6px;
}

/* Status Badges */
.stat-box {
    padding: 6px 14px;
    border-radius: 5px;
    font-weight: 600;
    display: inline-block;
    min-width: 45px;
}

.bg-blue-light { background-color: #f0f7ff; color: #0056b3; }
.bg-orange-light { background-color: #fff5eb; color: #fd7e14; }
.bg-yellow-light { background-color: #fffdf0; color: #856404; }
.bg-pink-light { background-color: #fff0f6; color: #d63384; }

/* Dropdown Menu Styling */
.action-dropdown .btn-link {
    color: #6c757d;
    text-decoration: none;
    font-size: 1.3rem;
}

.dropdown-toggle::after {
    display: none !important;
}

.dropdown-item {
    padding: 10px 20px;
    font-size: 0.9rem;
}

.dropdown-item:hover {
    background-color: var(--light-green);
    color: var(--primary-green);
}

/* Toggle Styling */
.form-check-input:checked {
    background-color: var(--primary-green);
    border-color: var(--primary-green);
}

    </style>
</head>
<body>

    <!-- _________________ end upper counter area__________________________ -->
    <!-- _________________ Start down  area__________________________ -->
     <body class="bg-light">

<div class="container my-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h4 class="fw-bold m-0">Job List :</h4>
        <button class="btn btn-success custom-btn-green">Create Job Post</button>
    </div>

    <div class="card border-0 shadow-sm p-3 mb-4">
        <div class="row g-3 align-items-center">
            <div class="col-md-4">
                <div class="input-group border rounded bg-white">
                    <span class="input-group-text bg-white border-0"><i class="bi bi-search text-success"></i></span>
                    <input type="text" id="titleSearch" class="form-control border-0 shadow-none" placeholder="Search by job title">
                </div>
            </div>
            <div class="col-md-3">
                <div class="input-group border rounded bg-white">
                    <span class="input-group-text bg-white border-0"><i class="bi bi-calendar-event text-success"></i></span>
                    <input type="date" id="dateSearch" class="form-control border-0 shadow-none">
                </div>
            </div>
            <div class="col-md-3">
                <div class="d-flex align-items-center bg-white border rounded px-2">
                    <label class="me-2 text-nowrap small text-muted">Show per page</label>
                    <select id="pageSize" class="form-select border-0 shadow-none">
                        <option value="5">5</option>
                        <option value="10" selected>10</option>
                        <option value="20">20</option>
                    </select>
                </div>
            </div>
            <div class="col-md-2">
                <button id="searchBtn" class="btn btn-outline-success w-100">Search</button>
            </div>
        </div>
    </div>

    <div class="card border-0 shadow-sm overflow-hidden">
        <div class="table-responsive">
            <table class="table mb-0 align-middle">
                <thead class="table-success-custom text-white">
                    <tr>
                        <th style="width: 40%;" class="ps-4">Job Title</th>
                        <th class="text-center">Applicants</th>
                        <th class="text-center">Rejected</th>
                        <th class="text-center">VIEWED</th>
                        <th class="text-center">Shortlisted</th>
                        <th class="text-center">HIRED</th>
                        <th class="text-center pe-4">Action</th>
                    </tr>
                </thead>
                <tbody id="jobTableBody">
                    </tbody>
            </table>
        </div>
        <div class="p-3 bg-white border-top">
            <small id="resultCount" class="text-muted fw-medium"></small>
        </div>
    </div>
</div>
    <!-- _________________ End  down area__________________________ -->






<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>

    //_________________________________________
    document.addEventListener("DOMContentLoaded", () => {
    const counters = document.querySelectorAll('.counter');
    const speed = 200; // The higher the number, the slower the animation

    counters.forEach(counter => {
        const updateCount = () => {
            const target = +counter.getAttribute('data-target');
            const count = +counter.innerText;

            // Calculate increment based on target
            const inc = target / speed;

            if (count < target) {
                // Set the value and call again
                counter.innerText = Math.ceil(count + inc);
                setTimeout(updateCount, 1);
            } else {
                counter.innerText = target;
            }
        };

        updateCount();
    });
});


const jobData = [
    { title: "Work permit Receiver (WPR) Aramci Approve need", deadline: "2025-12-31", applicants: 0, rejected: 0, viewed: 0, shortlisted: 0, hired: 0, live: false },
    { title: "Hiring HR Manager", deadline: "2027-09-30", applicants: 1, rejected: 0, viewed: 0, shortlisted: 0, hired: 0, live: true },
    { title: "Hiring Assistant Manager", deadline: "2026-02-28", applicants: 1, rejected: 0, viewed: 0, shortlisted: 0, hired: 1, live: true },
    { title: "Ready to Join as a Lecturer", deadline: "2026-02-28", applicants: 0, rejected: 0, viewed: 0, shortlisted: 0, hired: 0, live: true },
    { title: "Looking For Experinced Architecture", deadline: "2026-03-01", applicants: 1, rejected: 0, viewed: 0, shortlisted: 0, hired: 1, live: true },
    { title: "Looking for Delovery Driver", deadline: "2026-02-28", applicants: 1, rejected: 0, viewed: 0, shortlisted: 0, hired: 1, live: true },
    { title: "We Hiring Sales Executive", deadline: "2026-03-05", applicants: 1, rejected: 1, viewed: 0, shortlisted: 0, hired: 0, live: true }
];

function renderJobs() {
    const tableBody = document.getElementById('jobTableBody');
    const titleFilter = document.getElementById('titleSearch').value.toLowerCase();
    const dateFilter = document.getElementById('dateSearch').value;
    const pageSize = parseInt(document.getElementById('pageSize').value);
    
    let filteredData = jobData.filter(job => {
        const matchesTitle = job.title.toLowerCase().includes(titleFilter);
        const matchesDate = dateFilter === "" || job.deadline === dateFilter;
        return matchesTitle && matchesDate;
    });

    const displayData = filteredData.slice(0, pageSize);

    tableBody.innerHTML = '';
    displayData.forEach((job) => {
        const row = `
            <tr>
                <td class="ps-4">
                    <div class="fw-bold text-dark mb-1">${job.title}</div>
                    <div class="text-muted small mb-2">
                        <i class="bi bi-calendar3 me-1"></i> Deadline: ${job.deadline}
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" ${job.live ? 'checked' : ''}>
                        <label class="form-check-label small ms-1">Live</label>
                    </div>
                </td>
                <td class="text-center"><span class="stat-box bg-blue-light">${job.applicants}</span></td>
                <td class="text-center"><span class="stat-box bg-orange-light">${job.rejected}</span></td>
                <td class="text-center"><span class="stat-box bg-yellow-light">${job.viewed}</span></td>
                <td class="text-center"><span class="stat-box bg-blue-light">${job.shortlisted}</span></td>
                <td class="text-center"><span class="stat-box bg-pink-light">${job.hired}</span></td>
                <td class="text-center pe-4">
                    <div class="dropdown action-dropdown">
                        <button class="btn btn-link dropdown-toggle" type="button" data-bs-toggle="dropdown">
                            <i class="bi bi-three-dots-vertical"></i>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end shadow border-0">
                            <li><a class="dropdown-item py-2" href="#"><i class="bi bi-eye text-success me-2"></i> View Details</a></li>
                            <li><a class="dropdown-item py-2" href="#"><i class="bi bi-pencil-square text-info me-2"></i> Edit Job</a></li>
                        </ul>
                    </div>
                </td>
            </tr>
        `;
        tableBody.innerHTML += row;
    });

    document.getElementById('resultCount').innerText = `${displayData.length} Results Showing In ${filteredData.length} Jobs`;
}

// Initializing Events
document.getElementById('searchBtn').addEventListener('click', renderJobs);
document.getElementById('pageSize').addEventListener('change', renderJobs);
document.getElementById('titleSearch').addEventListener('input', renderJobs);

// Run on load
renderJobs();




</script>

</body>
</html>





{% endblock %}

