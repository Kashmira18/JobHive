{% extends "portal/admin/admin_layout.html" %}

{% block content %}

<style>
body { background-color: #f4f6f9; }

.custom-card { border-top: 4px solid #0a9f60; }

.table thead th {
    background-color: #0a9f60;
    color: #fff;
    font-weight: 600;
    text-align: center;
}

/* Toggle Switch */
.switch {
    position: relative;
    display: inline-block;
    width: 36px;
    height: 18px;
}
.switch input { opacity: 0; }
.slider {
    position: absolute;
    cursor: pointer;
    background-color: #ccc;
    border-radius: 20px;
    top: 0; left: 0; right: 0; bottom: 0;
    transition: 0.4s;
}
.slider:before {
    position: absolute;
    content: "";
    height: 14px;
    width: 14px;
    left: 2px; bottom: 2px;
    background-color: white;
    border-radius: 50%;
    transition: 0.4s;
}
input:checked + .slider { background-color: #0a9f60; }
input:checked + .slider:before { transform: translateX(18px); }

.pagination .page-link {
    color: #0a9f60;
    border-radius: 50%;
    margin: 0 3px;
    cursor: pointer;
}
.pagination .active { background-color: #0a9f60; color: #fff; }

/* Popup Form */
.overlay {
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.5);
    z-index:1000;
}
.popup-form {
    display:none;
    position:fixed;
    top:50%; left:50%;
    transform:translate(-50%, -50%);
    background:#fff;
    width:95%;
    max-width:500px;
    border-radius:10px;
    z-index:1010;
    padding:20px;
}
.popup-form .btn-close {
    float:right;
    border:none;
    background:#dc3545;
    color:#fff;
    border-radius:5px;
    padding:5px 10px;
    cursor:pointer;
}
</style>

<div class="container-fluid mt-4">

    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h4 class="fw-bold">Job Type List</h4>
        <button id="btnCreate" class="btn btn-success">
            <i class="bi bi-plus-circle"></i> Create Job Type
        </button>
    </div>

    <!-- Card -->
    <div class="card custom-card">
        <div class="card-body">

            <!-- Controls -->
            <div class="row mb-3">
                <div class="col-md-6">
                    Show
                    <select class="form-select d-inline-block w-auto mx-2">
                        <option>10</option>
                        <option>25</option>
                    </select>
                    Entries
                </div>
                <div class="col-md-6 text-end">
                    Search:
                    <input type="text" id="search" class="form-control d-inline-block w-auto ms-2">
                </div>
            </div>

            <!-- Table -->
            <div class="table-responsive">
                <table class="table table-bordered align-middle text-center" id="jobTable">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Job Type Name</th>
                            <th>Status</th>
                            <th>
                                <img src="https://flagcdn.com/w20/us.png">
                                <img src="https://flagcdn.com/w20/pk.png">
                            </th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>4</td>
                            <td>Internship</td>
                            <td>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </td>
                            <td>✓ A</td>
                            <td>
                                <button class="btn btn-sm btn-success"><i class="bi bi-pencil"></i></button>
                                <button class="btn btn-sm btn-danger"><i class="bi bi-trash"></i></button>
                            </td>
                        </tr>
                        <!-- More rows -->
                    </tbody>
                </table>
            </div>

            <!-- Footer -->
            <div class="d-flex justify-content-between mt-3">
                <div>Showing 1 to 4 of 4 entries</div>
                <div class="pagination">
                    <span class="page-link">Previous</span>
                    <span class="page-link active">1</span>
                    <span class="page-link">Next</span>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- Popup Form -->
<div class="overlay"></div>
<div class="popup-form">
    <button class="btn-close">×</button>
    <h5 class="mb-3">Create Job Type</h5>
    <div class="mb-3">
        <label class="form-label">Job Type Name *</label>
        <input type="text" class="form-control" placeholder="Enter Job Type Name">
    </div>
    <div class="mb-3">
        <label class="form-label">Status</label>
        <select class="form-select">
            <option selected>Active</option>
            <option>Inactive</option>
        </select>
    </div>
    <div class="text-end">
        <button class="btn btn-success">Save</button>
    </div>
</div>

<script>
// Table search
document.getElementById("search").addEventListener("keyup", function () {
    let value = this.value.toLowerCase();
    let rows = document.querySelectorAll("#jobTable tbody tr");
    rows.forEach(row => {
        row.style.display = row.innerText.toLowerCase().includes(value) ? "" : "none";
    });
});

// Popup open/close
const btnCreate = document.getElementById('btnCreate');
const popup = document.querySelector('.popup-form');
const overlay = document.querySelector('.overlay');
const btnClose = document.querySelector('.btn-close');

btnCreate.addEventListener('click', ()=>{
    popup.style.display = 'block';
    overlay.style.display = 'block';
});
btnClose.addEventListener('click', closePopup);
overlay.addEventListener('click', closePopup);

function closePopup(){
    popup.style.display = 'none';
    overlay.style.display = 'none';
}
</script>

{% endblock %}
